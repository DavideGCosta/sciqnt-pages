import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Box, Flash, Octicon, Text } from "@primer/react";
import { XIcon } from "@primer/octicons-react";
export const CloseableFlash = (props) => {
    const { leadingIcon, variant, onClose, ...otherProps } = props;
    const [isVisible, setIsVisible] = useState(true);
    const handleClose = () => {
        if (onClose) {
            onClose();
        }
        setIsVisible(false);
    };
    if (!isVisible) {
        return null;
    }
    return (_jsx(Flash, { variant: variant, ...otherProps, children: _jsxs(Box, { display: "flex", justifyContent: "space-between", alignItems: "center", children: [_jsxs(Box, { sx: { flexGrow: 1 }, children: [leadingIcon && _jsx(Octicon, { icon: leadingIcon }), _jsx(Text, { color: `${variant === "default" ? "accent" : (variant === "warning" ? "attention" : variant)}.fg`, children: props.children })] }), _jsx(Box, { onClick: handleClose, sx: { cursor: "pointer" }, children: _jsx(XIcon, { size: 20 }) })] }) }));
};
